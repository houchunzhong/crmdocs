# **货币**  

## **一、模块概览**

“货币”模块是 MIM CRM 的**多币种管理中枢**，负责定义和维护所有可用货币的基本属性与行为规则。它不仅是用户账户余额、交易结算、佣金支付的基础单位，也是跨币种资金转换与财务对账的核心依据。通过本模块，管理员可以：

- ✅ 添加或编辑货币信息（名称、符号、类型）  
- ✅ 配置汇率机制（手动输入或自动获取）  
- ✅ 设置显示格式（小数位数、千分位分隔符）  
- ✅ 定义换算基准（如 USD/GBP、USD/BTC）  

> 🔐 仅限**管理员**或**财务主管**访问。所有更改均需保存后生效，并记录于系统日志中以供审计。

---

## **二、界面布局说明**

### **左侧导航菜单**
| 项目 | 功能 |
|------|------|
| **货币** | 查看并管理所有货币配置 |
| **支付通道** | 配置第三方支付网关（如银行、PayPal、Stripe） |

---

### **顶部标签页**
| 标签 | 说明 |
|------|------|
| **总览** | 返回上级页面 |
| **货币** | 当前页面 |
| **货币 - EUR** | 编辑欧元货币配置 |
| **支付通道** | 跳转至支付网关配置 |

---

## **三、核心功能详解**

### **1. 货币列表视图**

#### **功能描述**  
以表格形式展示系统中已配置的所有货币，支持快速浏览与编辑。

#### **字段说明**
| 字段 | 说明 |
|------|------|
| **货币简称** | 币种代码（如 `EUR`, `BTC`），带图标标识 |
| **货币名称** | 完整名称（如 “Euro”, “Bitcoin”） |
| **货币类型** | 分类：  
  - 法币（Fiat Currency）：如 EUR、USD、GBP  
  - 数字货币（Digital Currency）：如 BTC、USDT、USDC |
| **显示小数位数** | 用户界面上展示的最小单位位数（如 2 表示 $1.00） |
| **报价方式** | 汇率更新机制：  
  - 手动：由管理员定期输入  
  - 自动：从外部 API 实时获取（适用于 BTC、ETH 等） |
| **换算方式** | 该货币相对于基准货币的兑换对（如 `EUR/USD` 表示以美元为基准） |
| **入金汇率** | 用户充值时使用的汇率（例如 1 EUR = 1.1917 USD） |
| **出金汇率** | 用户提现时使用的汇率（例如 1 EUR = 1.1896 USD） |
| **编辑** | 点击“编辑”按钮进入配置页面 |

> 💡 示例：BTC 的“报价方式”设为“自动”，表示其价格将实时同步自加密货币交易所接口。

---

### **2. 新增/编辑货币配置**

#### **功能描述**  
点击“新增”或“编辑”按钮后，进入表单页面进行详细配置。

#### **配置项说明**
| 字段 | 说明 |
|------|------|
| **货币简称** | 必填，唯一标识（如 `EUR`, `BTC`） |
| **货币名称** | 显示用全称（如 “Euro”, “Bitcoin”） |
| **货币类型** | 选择：法币 或 数字货币 |
| **千分位分隔符** | 数值格式化中的千位分隔符（如 `,` 或 `.`） |
| **数据精度小数** | 内部存储时的小数精度（通常与“显示小数位数”一致） |
| **显示小数位数** | 用户端显示的最少单位（如 2 表示保留两位小数） |
| **小数点符号** | 小数点字符（如 `.` 或 `,`） |
| **换算方式** | 选择基准货币对（如 `EUR/USD`, `USD/BTC`） |
| **报价方式** | 选择：手动 或 自动（自动需配置外部 API） |
| **入金汇率** | 充值时的汇率（必须大于 0） |
| **出金汇率** | 提现时的汇率（必须小于等于入金汇率） |

> ⚠️ 注意：  
> - 若“报价方式”为“自动”，则“入金汇率”和“出金汇率”将被忽略，系统自动计算  
> - “换算方式”决定了该货币如何与其他货币联动（如 EUR → USD → BTC）

---

### **3. 操作流程示例**

#### **场景：添加新货币 USDT**
1. 进入 **货币** 模块 → 点击 **新增**  
2. 填写如下信息：
   - 货币简称：`USDT`  
   - 货币名称：`Tether`  
   - 货币类型：`数字货币`  
   - 显示小数位数：`2`  
   - 报价方式：`手动`  
   - 换算方式：`USDT/USD`  
   - 入金汇率：`1.00003`  
   - 出金汇率：`0.99998`  
3. 点击 **保存**  
4. 成功后，USDT 将出现在货币列表中，并可用于账户充值、提现与结算

---

#### **场景：修改 BTC 汇率模式为自动**
1. 在货币列表中找到 `BTC` → 点击 **编辑**  
2. 修改“报价方式”为 **自动**  
3. 保存配置  
4. 系统将自动从指定 API 获取 BTC/USD 实时价格  
5. 后续所有涉及 BTC 的交易将以实时汇率处理

---

## **四、最佳实践建议**

| 场景 | 推荐做法 |
|------|----------|
| **多币种支持** | 优先配置主流法币（EUR, USD, GBP）和稳定币（USDT, USDC） |
| **汇率管理** | 对法币采用“手动”模式便于控制成本；对数字货币启用“自动”以反映市场真实价值 |
| **显示一致性** | 统一设置千分位分隔符与小数点符号，避免用户混淆 |
| **风险控制** | 设置合理的“入金/出金汇率”差额（如 0.1%~0.5%），防止套利 |
| **合规要求** | 所有货币必须符合当地金融监管政策（如不支持非法虚拟资产） |

---

## **五、常见问题解答（FAQ）**

### **Q1：为什么某些货币没有“出金汇率”？**  
- ❌ 可能原因：  
  - 该货币尚未启用提现功能  
  - 管理员未填写出金汇率  

> ✅ 解决方案：在“编辑”页面补全“出金汇率”字段。

---

### **Q2：“报价方式”选“自动”后，系统如何获取价格？**  
- ✅ 系统会调用预设的外部 API（如 CoinGecko、Binance API）获取实时行情。  
- 需提前在 **系统配置 → 外部服务** 中配置 API 密钥与地址。

---

### **Q3：能否删除已存在的货币？**  
- ❌ 不支持直接删除。  
- ✅ 替代方案：停用该货币（如不再开放充值/提现），或联系技术支持进行数据库级清理。

---

### **Q4：如何确保不同账户间汇率一致？**  
- ✅ 方法：  
  1. 所有货币的“换算方式”应统一指向同一基准（如 USD）  
  2. 使用“自动”报价方式保证实时同步  
  3. 定期核对“入金/出金汇率”是否合理

---

## **六、总结**

“货币”模块是 MIM CRM 实现全球化、多币种业务运营的基石。通过精细化配置每种货币的属性与行为规则，系统能够准确处理跨境资金流动、动态汇率结算与用户界面展示。无论是扩展新市场、引入稳定币，还是优化财务模型，本模块都提供了强大的灵活性与可控性。

✅ **推荐操作流程**：  
1. 进入 **货币** → 2. 点击 **新增** → 3. 填写基本信息 → 4. 设置汇率与报价方式 → 5. 点击 **保存** → 6. 在 **支付通道** 中绑定对应网关

> 📌 所有变更均被记录在系统日志中，支持审计与回溯，确保财务管理的透明性与合规性。

---

**版本：v1.0**  
**最后更新：2026年2月**